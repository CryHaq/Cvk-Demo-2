import{E as L,r,j as s,B as p,A as m,z as b,l as q,L as P}from"./index-DIeESg7c.js";import{A as D}from"./arrow-left-U362JR3z.js";import{C as j}from"./circle-check-big-DKfMW53i.js";import{L as F}from"./lock-LCoa8fsl.js";import{E as A}from"./eye-off-DJzZVzK1.js";import{E as G}from"./eye-D2texsfD.js";function M({onNavigate:o,resetToken:w}){const{forgotPassword:y,resetPassword:N}=L(),[h,v]=r.useState(""),[l,k]=r.useState(""),[u,z]=r.useState(""),[i,C]=r.useState(!1),[n,g]=r.useState(!1),[x,t]=r.useState(""),[c,f]=r.useState(!1),[a]=r.useState(w?"reset":"request"),S=async e=>{e.preventDefault(),t(""),g(!0);const d=await y(h);d.success?f(!0):t(d.message||"Bir hata oluştu. Lütfen tekrar deneyin."),g(!1)},E=async e=>{if(e.preventDefault(),t(""),l.length<8){t("Şifre en az 8 karakter olmalıdır.");return}if(l!==u){t("Şifreler eşleşmiyor.");return}g(!0);const d=await N(w||"",l);d.success?f(!0):t(d.message||"Şifre değiştirme başarısız. Lütfen tekrar deneyin."),g(!1)};return s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:67:5",className:"w-full min-h-screen bg-[#f0f7fc]",children:[s.jsx("section",{"code-path":"src/pages/ForgotPassword.tsx:69:7",className:"py-16 bg-gradient-to-r from-[#0077be] to-[#00a8e8]",children:s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:70:9",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h1",{"code-path":"src/pages/ForgotPassword.tsx:71:11",className:"text-4xl font-bold text-white mb-4",children:a==="request"?"Şifremi Unuttum":"Yeni Şifre Oluştur"}),s.jsx("p",{"code-path":"src/pages/ForgotPassword.tsx:74:11",className:"text-white/90 text-lg max-w-2xl mx-auto",children:a==="request"?"E-posta adresinizi girin, şifre sıfırlama bağlantısını gönderelim.":"Yeni şifrenizi oluşturun ve hesabınıza güvenli bir şekilde giriş yapın."})]})}),s.jsx("section",{"code-path":"src/pages/ForgotPassword.tsx:84:7",className:"py-16",children:s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:85:9",className:"max-w-md mx-auto px-4",children:[s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:86:11",className:"bg-white rounded-3xl shadow-xl p-8",children:[s.jsxs("button",{"code-path":"src/pages/ForgotPassword.tsx:88:13",onClick:()=>o("login"),className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 mb-6",children:[s.jsx(D,{"code-path":"src/pages/ForgotPassword.tsx:92:15",className:"w-4 h-4"}),"Girişe Dön"]}),c&&a==="request"&&s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:98:15",className:"text-center py-8",children:[s.jsx(j,{"code-path":"src/pages/ForgotPassword.tsx:99:17",className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{"code-path":"src/pages/ForgotPassword.tsx:100:17",className:"text-xl font-bold text-green-700 mb-2",children:"Bağlantı Gönderildi!"}),s.jsxs("p",{"code-path":"src/pages/ForgotPassword.tsx:101:17",className:"text-green-600 mb-6",children:["Şifre sıfırlama bağlantısı ",s.jsx("strong",{"code-path":"src/pages/ForgotPassword.tsx:102:46",children:h})," adresine gönderildi. Lütfen e-postanızı kontrol edin."]}),s.jsx(p,{"code-path":"src/pages/ForgotPassword.tsx:104:17",onClick:()=>o("login"),className:"bg-[#0077be] hover:bg-[#005a8f] text-white",children:"Giriş Sayfasına Dön"})]}),c&&a==="reset"&&s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:114:15",className:"text-center py-8",children:[s.jsx(j,{"code-path":"src/pages/ForgotPassword.tsx:115:17",className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h3",{"code-path":"src/pages/ForgotPassword.tsx:116:17",className:"text-xl font-bold text-green-700 mb-2",children:"Şifre Değiştirildi!"}),s.jsx("p",{"code-path":"src/pages/ForgotPassword.tsx:117:17",className:"text-green-600 mb-6",children:"Şifreniz başarıyla değiştirildi. Yeni şifrenizle giriş yapabilirsiniz."}),s.jsxs(p,{"code-path":"src/pages/ForgotPassword.tsx:120:17",onClick:()=>o("login"),className:"bg-[#0077be] hover:bg-[#005a8f] text-white",children:["Giriş Yap",s.jsx(m,{"code-path":"src/pages/ForgotPassword.tsx:125:19",className:"ml-2 w-4 h-4"})]})]}),!c&&a==="request"&&s.jsxs(s.Fragment,{children:[x&&s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:135:19",className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 flex items-center gap-2",children:[s.jsx(b,{"code-path":"src/pages/ForgotPassword.tsx:136:21",className:"w-5 h-5"}),x]}),s.jsxs("form",{"code-path":"src/pages/ForgotPassword.tsx:141:17",onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:142:19",children:[s.jsx("label",{"code-path":"src/pages/ForgotPassword.tsx:143:21",className:"block text-gray-700 font-medium mb-2",children:"E-posta Adresi"}),s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:144:21",className:"relative",children:[s.jsx(q,{"code-path":"src/pages/ForgotPassword.tsx:145:23",className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{"code-path":"src/pages/ForgotPassword.tsx:146:23",type:"email",required:!0,value:h,onChange:e=>v(e.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-100 border border-gray-200 rounded-xl text-gray-900 focus:border-[#0077be] focus:outline-none focus:ring-2 focus:ring-[#0077be]/20",placeholder:"ornek@email.com"})]}),s.jsx("p",{"code-path":"src/pages/ForgotPassword.tsx:155:21",className:"text-sm text-gray-500 mt-2",children:"Kayıtlı e-posta adresinizi girin, şifre sıfırlama bağlantısını gönderelim."})]}),s.jsx(p,{"code-path":"src/pages/ForgotPassword.tsx:160:19",type:"submit",disabled:n,className:"w-full bg-[#0077be] hover:bg-[#005a8f] text-white font-semibold py-6",children:n?s.jsxs(s.Fragment,{children:[s.jsx(P,{"code-path":"src/pages/ForgotPassword.tsx:167:25",className:"mr-2 w-5 h-5 animate-spin"}),"Gönderiliyor..."]}):s.jsxs(s.Fragment,{children:["Sıfırlama Bağlantısı Gönder",s.jsx(m,{"code-path":"src/pages/ForgotPassword.tsx:173:25",className:"ml-2 w-5 h-5"})]})})]}),s.jsx("div",{"code-path":"src/pages/ForgotPassword.tsx:179:17",className:"mt-8 text-center",children:s.jsxs("p",{"code-path":"src/pages/ForgotPassword.tsx:180:19",className:"text-gray-500 text-sm",children:["Şifrenizi hatırladınız mı?"," ",s.jsx("button",{"code-path":"src/pages/ForgotPassword.tsx:182:21",onClick:()=>o("login"),className:"text-[#0077be] hover:underline",children:"Giriş yapın"})]})})]}),!c&&a==="reset"&&s.jsxs(s.Fragment,{children:[x&&s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:195:19",className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 flex items-center gap-2",children:[s.jsx(b,{"code-path":"src/pages/ForgotPassword.tsx:196:21",className:"w-5 h-5"}),x]}),s.jsxs("form",{"code-path":"src/pages/ForgotPassword.tsx:201:17",onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:202:19",children:[s.jsx("label",{"code-path":"src/pages/ForgotPassword.tsx:203:21",className:"block text-gray-700 font-medium mb-2",children:"Yeni Şifre"}),s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:204:21",className:"relative",children:[s.jsx(F,{"code-path":"src/pages/ForgotPassword.tsx:205:23",className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{"code-path":"src/pages/ForgotPassword.tsx:206:23",type:i?"text":"password",required:!0,minLength:8,value:l,onChange:e=>k(e.target.value),className:"w-full pl-12 pr-12 py-4 bg-gray-100 border border-gray-200 rounded-xl text-gray-900 focus:border-[#0077be] focus:outline-none",placeholder:"En az 8 karakter"}),s.jsx("button",{"code-path":"src/pages/ForgotPassword.tsx:215:23",type:"button",onClick:()=>C(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?s.jsx(A,{"code-path":"src/pages/ForgotPassword.tsx:220:41",className:"w-5 h-5"}):s.jsx(G,{"code-path":"src/pages/ForgotPassword.tsx:220:74",className:"w-5 h-5"})})]})]}),s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:225:19",children:[s.jsx("label",{"code-path":"src/pages/ForgotPassword.tsx:226:21",className:"block text-gray-700 font-medium mb-2",children:"Yeni Şifre Tekrar"}),s.jsxs("div",{"code-path":"src/pages/ForgotPassword.tsx:227:21",className:"relative",children:[s.jsx(F,{"code-path":"src/pages/ForgotPassword.tsx:228:23",className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{"code-path":"src/pages/ForgotPassword.tsx:229:23",type:i?"text":"password",required:!0,value:u,onChange:e=>z(e.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-100 border border-gray-200 rounded-xl text-gray-900 focus:border-[#0077be] focus:outline-none",placeholder:"Şifrenizi tekrar girin"})]})]}),s.jsx(p,{"code-path":"src/pages/ForgotPassword.tsx:240:19",type:"submit",disabled:n,className:"w-full bg-[#0077be] hover:bg-[#005a8f] text-white font-semibold py-6",children:n?s.jsxs(s.Fragment,{children:[s.jsx(P,{"code-path":"src/pages/ForgotPassword.tsx:247:25",className:"mr-2 w-5 h-5 animate-spin"}),"Değiştiriliyor..."]}):s.jsxs(s.Fragment,{children:["Şifreyi Değiştir",s.jsx(m,{"code-path":"src/pages/ForgotPassword.tsx:253:25",className:"ml-2 w-5 h-5"})]})})]})]})]}),!c&&s.jsx("div",{"code-path":"src/pages/ForgotPassword.tsx:264:13",className:"mt-8 text-center",children:s.jsxs("p",{"code-path":"src/pages/ForgotPassword.tsx:265:15",className:"text-gray-500 text-sm",children:["Yardıma mı ihtiyacınız var?"," ",s.jsx("button",{"code-path":"src/pages/ForgotPassword.tsx:267:17",onClick:()=>o("contact"),className:"text-[#0077be] hover:underline",children:"Destek alın"})]})})]})})]})}export{M as default};
