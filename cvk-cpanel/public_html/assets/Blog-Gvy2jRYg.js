import{r as t,j as e,d as N,L,z as P,B as i,f as D,g as F}from"./index-LujKO0M7.js";import{C as O}from"./calendar-B1xIdPy2.js";const w="/php/blog.php";function M({onNavigate:v}){var B;const[d,h]=t.useState([]),[m,k]=t.useState([{category:"Tümü",slug:"all",count:0}]),[l,S]=t.useState("all"),[c,u]=t.useState(""),[C,b]=t.useState(!0),[f,x]=t.useState(""),[r,T]=t.useState({page:1,limit:12,total:0,pages:0}),[p,j]=t.useState(""),[z,y]=t.useState(!1);t.useEffect(()=>{A()},[]),t.useEffect(()=>{o(1)},[l]);const A=async()=>{try{const a=await(await fetch(`${w}?action=categories`)).json();a.success&&k(a.categories)}catch(s){console.error("Failed to fetch categories:",s)}},o=async(s=1)=>{b(!0),x("");try{const a=new URLSearchParams({action:"list",page:s.toString(),limit:"12"});l!=="all"&&a.append("category",l),c&&a.append("search",c);const n=await(await fetch(`${w}?${a}`)).json();n.success?(h(n.posts),T(n.pagination)):x(n.error||"Failed to load posts")}catch{x("Bağlantı hatası. Lütfen tekrar deneyin."),h([])}finally{b(!1)}},E=s=>{s.preventDefault(),o(1)},$=async s=>{if(s.preventDefault(),!!p)try{(await fetch("/php/contact.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"newsletter",email:p,name:""})})).ok&&(y(!0),j(""),setTimeout(()=>y(!1),3e3))}catch(a){console.error("Newsletter error:",a)}};return e.jsxs("div",{"code-path":"src/pages/Blog.tsx:139:5",className:"w-full min-h-screen bg-[#f0f7fc]",children:[e.jsx("section",{"code-path":"src/pages/Blog.tsx:141:7",className:"py-24 bg-gradient-to-br from-[#1a1a2e] via-[#1a1a2e] to-[#0077be]/30",children:e.jsx("div",{"code-path":"src/pages/Blog.tsx:142:9",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{"code-path":"src/pages/Blog.tsx:143:11",className:"text-center max-w-3xl mx-auto",children:[e.jsx("span",{"code-path":"src/pages/Blog.tsx:144:13",className:"inline-block px-4 py-2 bg-[#0077be]/20 rounded-full text-[#00a8e8] text-sm font-medium mb-6",children:"Blog"}),e.jsxs("h1",{"code-path":"src/pages/Blog.tsx:147:13",className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:["Ambalaj Dünyasından ",e.jsx("span",{"code-path":"src/pages/Blog.tsx:148:35",className:"text-[#00a8e8]",children:"İçgörüler"})]}),e.jsx("p",{"code-path":"src/pages/Blog.tsx:150:13",className:"text-xl text-gray-300 mb-8",children:"Tasarım trendleri, sürdürülebilirlik ipuçları ve sektör haberleri"}),e.jsxs("form",{"code-path":"src/pages/Blog.tsx:155:13",onSubmit:E,className:"relative max-w-xl mx-auto",children:[e.jsx(N,{"code-path":"src/pages/Blog.tsx:156:15",className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{"code-path":"src/pages/Blog.tsx:157:15",type:"text",value:c,onChange:s=>u(s.target.value),placeholder:"Makale ara...",className:"w-full pl-12 pr-24 py-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder:text-white/50 focus:border-[#0077be] focus:outline-none focus:bg-white/20"}),e.jsx("button",{"code-path":"src/pages/Blog.tsx:164:15",type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 px-4 py-2 bg-[#0077be] text-white rounded-lg hover:bg-[#005a8f] transition-colors",children:"Ara"})]})]})})}),e.jsx("section",{"code-path":"src/pages/Blog.tsx:176:7",className:"py-8 bg-white border-b border-gray-200 sticky top-16 z-30",children:e.jsx("div",{"code-path":"src/pages/Blog.tsx:177:9",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{"code-path":"src/pages/Blog.tsx:178:11",className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:m.map(s=>e.jsxs("button",{"code-path":"src/pages/Blog.tsx:180:15",onClick:()=>S(s.slug),className:`flex items-center gap-2 px-5 py-2.5 rounded-full whitespace-nowrap transition-all ${l===s.slug?"bg-[#0077be] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{"code-path":"src/pages/Blog.tsx:189:17",children:s.category}),e.jsx("span",{"code-path":"src/pages/Blog.tsx:190:17",className:`text-xs px-2 py-0.5 rounded-full ${l===s.slug?"bg-white/20":"bg-gray-200"}`,children:s.count})]},s.slug))})})}),e.jsx("section",{"code-path":"src/pages/Blog.tsx:202:7",className:"py-16",children:e.jsx("div",{"code-path":"src/pages/Blog.tsx:203:9",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:C?e.jsx("div",{"code-path":"src/pages/Blog.tsx:205:13",className:"flex items-center justify-center py-24",children:e.jsx(L,{"code-path":"src/pages/Blog.tsx:206:15",className:"w-10 h-10 text-[#0077be] animate-spin"})}):f?e.jsxs("div",{"code-path":"src/pages/Blog.tsx:209:13",className:"text-center py-24",children:[e.jsx(P,{"code-path":"src/pages/Blog.tsx:210:15",className:"w-16 h-16 text-red-400 mx-auto mb-4"}),e.jsx("h3",{"code-path":"src/pages/Blog.tsx:211:15",className:"text-xl font-bold text-gray-900 mb-2",children:"Bir Hata Oluştu"}),e.jsx("p",{"code-path":"src/pages/Blog.tsx:212:15",className:"text-gray-600 mb-4",children:f}),e.jsx(i,{"code-path":"src/pages/Blog.tsx:213:15",onClick:()=>o(),children:"Tekrar Dene"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{"code-path":"src/pages/Blog.tsx:218:15",className:"flex items-center justify-between mb-8",children:[e.jsxs("h2",{"code-path":"src/pages/Blog.tsx:219:17",className:"text-2xl font-bold text-gray-900",children:[l==="all"?"Tüm Makaleler":(B=m.find(s=>s.slug===l))==null?void 0:B.category,e.jsxs("span",{"code-path":"src/pages/Blog.tsx:221:19",className:"text-gray-400 font-normal ml-2",children:["(",r.total,")"]})]}),c&&e.jsx("button",{"code-path":"src/pages/Blog.tsx:224:19",onClick:()=>{u(""),o(1)},className:"text-[#0077be] hover:underline",children:"Aramayı Temizle"})]}),d.length===0?e.jsxs("div",{"code-path":"src/pages/Blog.tsx:234:17",className:"text-center py-24",children:[e.jsx(N,{"code-path":"src/pages/Blog.tsx:235:19",className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{"code-path":"src/pages/Blog.tsx:236:19",className:"text-xl font-bold text-gray-900 mb-2",children:"Sonuç Bulunamadı"}),e.jsx("p",{"code-path":"src/pages/Blog.tsx:237:19",className:"text-gray-600",children:"Farklı bir arama terimi veya kategori deneyin."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{"code-path":"src/pages/Blog.tsx:241:19",className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map((s,a)=>e.jsxs("article",{"code-path":"src/pages/Blog.tsx:243:23",onClick:()=>v("blog-post",s.slug),className:`group bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden cursor-pointer hover:shadow-xl transition-all ${a===0&&l==="all"&&!c?"md:col-span-2 lg:col-span-2":""}`,children:[e.jsxs("div",{"code-path":"src/pages/Blog.tsx:251:25",className:`relative overflow-hidden ${a===0&&l==="all"&&!c?"aspect-video":"aspect-[4/3]"}`,children:[e.jsx("img",{"code-path":"src/pages/Blog.tsx:254:27",src:s.image,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("div",{"code-path":"src/pages/Blog.tsx:259:27",className:"absolute top-4 left-4",children:e.jsx("span",{"code-path":"src/pages/Blog.tsx:260:29",className:"px-3 py-1 bg-[#0077be] text-white text-xs font-semibold rounded-full",children:s.category})})]}),e.jsxs("div",{"code-path":"src/pages/Blog.tsx:267:25",className:"p-6",children:[e.jsxs("div",{"code-path":"src/pages/Blog.tsx:269:27",className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsxs("span",{"code-path":"src/pages/Blog.tsx:270:29",className:"flex items-center gap-1",children:[e.jsx(O,{"code-path":"src/pages/Blog.tsx:271:31",className:"w-4 h-4"}),s.date]}),e.jsxs("span",{"code-path":"src/pages/Blog.tsx:274:29",className:"flex items-center gap-1",children:[e.jsx(D,{"code-path":"src/pages/Blog.tsx:275:31",className:"w-4 h-4"}),s.readTime," okuma"]})]}),e.jsx("h3",{"code-path":"src/pages/Blog.tsx:281:27",className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-[#0077be] transition-colors line-clamp-2",children:s.title}),e.jsx("p",{"code-path":"src/pages/Blog.tsx:286:27",className:"text-gray-600 mb-4 line-clamp-2",children:s.excerpt}),e.jsxs("div",{"code-path":"src/pages/Blog.tsx:291:27",className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[e.jsxs("div",{"code-path":"src/pages/Blog.tsx:292:29",className:"flex items-center gap-2",children:[e.jsx("div",{"code-path":"src/pages/Blog.tsx:293:31",className:"w-8 h-8 rounded-full bg-[#0077be] flex items-center justify-center text-white text-sm font-medium",children:s.author[0]}),e.jsx("span",{"code-path":"src/pages/Blog.tsx:296:31",className:"text-sm text-gray-600",children:s.author})]}),e.jsxs("span",{"code-path":"src/pages/Blog.tsx:298:29",className:"flex items-center gap-1 text-[#0077be] font-medium group-hover:gap-2 transition-all",children:["Devamını Oku",e.jsx(F,{"code-path":"src/pages/Blog.tsx:300:31",className:"w-4 h-4"})]})]}),s.tags&&s.tags.length>0&&e.jsx("div",{"code-path":"src/pages/Blog.tsx:306:29",className:"flex flex-wrap gap-2 mt-4",children:s.tags.slice(0,3).map(g=>e.jsxs("span",{"code-path":"src/pages/Blog.tsx:308:33",className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["#",g]},g))})]})]},s.id))}),r.pages>1&&e.jsxs("div",{"code-path":"src/pages/Blog.tsx:324:21",className:"flex items-center justify-center gap-2 mt-12",children:[e.jsx(i,{"code-path":"src/pages/Blog.tsx:325:23",variant:"outline",onClick:()=>o(r.page-1),disabled:r.page===1,children:"Önceki"}),e.jsxs("span",{"code-path":"src/pages/Blog.tsx:332:23",className:"px-4 py-2 text-gray-600",children:["Sayfa ",r.page," / ",r.pages]}),e.jsx(i,{"code-path":"src/pages/Blog.tsx:335:23",variant:"outline",onClick:()=>o(r.page+1),disabled:r.page===r.pages,children:"Sonraki"})]})]})]})})}),e.jsx("section",{"code-path":"src/pages/Blog.tsx:352:7",className:"py-16 bg-gradient-to-r from-[#0077be] to-[#00a8e8]",children:e.jsxs("div",{"code-path":"src/pages/Blog.tsx:353:9",className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("h2",{"code-path":"src/pages/Blog.tsx:354:11",className:"text-3xl font-bold text-white mb-4",children:"Blog Yazılarımızı Kaçırmayın"}),e.jsx("p",{"code-path":"src/pages/Blog.tsx:357:11",className:"text-white/90 mb-8",children:"Yeni makalelerden haberdar olmak için bültenimize abone olun."}),z?e.jsx("div",{"code-path":"src/pages/Blog.tsx:361:13",className:"bg-white/20 rounded-xl p-4 text-white",children:"✅ Başarıyla abone oldunuz!"}):e.jsxs("form",{"code-path":"src/pages/Blog.tsx:365:13",onSubmit:$,className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto",children:[e.jsx("input",{"code-path":"src/pages/Blog.tsx:366:15",type:"email",value:p,onChange:s=>j(s.target.value),placeholder:"E-posta adresiniz",required:!0,className:"flex-1 px-4 py-3 rounded-xl bg-white/20 border border-white/30 text-white placeholder:text-white/60 focus:outline-none focus:bg-white/30"}),e.jsx(i,{"code-path":"src/pages/Blog.tsx:374:15",type:"submit",className:"bg-white text-[#0077be] hover:bg-gray-100 px-8",children:"Abone Ol"})]})]})})]})}export{M as default};
