import{r as d,j as e,i as C,d as l,B as c,l as S,T as u,D,X as E,C as m,k as T}from"./index-BFkrDkvv.js";import{o as z,B}from"./orderApi-Dd4wnTe8.js";import{R as i}from"./refresh-cw-C_PCh_u5.js";import{E as y}from"./eye-B7stko1o.js";const b={pending:{label:"Beklemede",color:"bg-yellow-100 text-yellow-800",icon:T},confirmed:{label:"Onaylandı",color:"bg-blue-100 text-blue-800",icon:m},processing:{label:"Üretimde",color:"bg-purple-100 text-purple-800",icon:l},shipped:{label:"Kargoda",color:"bg-orange-100 text-orange-800",icon:u},delivered:{label:"Teslim Edildi",color:"bg-green-100 text-green-800",icon:m},cancelled:{label:"İptal Edildi",color:"bg-red-100 text-red-800",icon:E},refunded:{label:"İade Edildi",color:"bg-gray-100 text-gray-800",icon:i}};function I({onNavigate:j}){const[x,O]=d.useState([]),[M,n]=d.useState(!0),[r,f]=d.useState(null),[p,N]=d.useState("");d.useEffect(()=>{v()},[]);const v=async()=>{n(!0);const s=await z.getMyOrders();s.success&&s.data&&O(s.data),n(!1)},w=x.filter(s=>s.order_number.toLowerCase().includes(p.toLowerCase())||s.items.some(a=>a.product_type.toLowerCase().includes(p.toLowerCase()))),o=s=>{const a=b[s]||b.pending;return e.jsxs(B,{"code-path":"src/pages/MyOrders.tsx:52:7",className:`${a.color} flex items-center gap-1`,children:[e.jsx(a.icon,{"code-path":"src/pages/MyOrders.tsx:53:9",className:"w-3 h-3"}),a.label]})},k=s=>new Date(s).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"});return M?e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:69:7",className:"w-full min-h-screen bg-gray-50 dark:bg-[#0f172a] pt-24 pb-12",children:e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:70:9",className:"max-w-7xl mx-auto px-4 flex items-center justify-center",children:e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:71:11",className:"flex items-center gap-3",children:[e.jsx(i,{"code-path":"src/pages/MyOrders.tsx:72:13",className:"w-6 h-6 text-[#0077be] animate-spin"}),e.jsx("span",{"code-path":"src/pages/MyOrders.tsx:73:13",children:"Siparişler yükleniyor..."})]})})}):e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:81:5",className:"w-full min-h-screen bg-gray-50 dark:bg-[#0f172a] pt-24 pb-12",children:e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:82:7",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:84:9",className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:85:11",children:[e.jsx("h1",{"code-path":"src/pages/MyOrders.tsx:86:13",className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Siparişlerim"}),e.jsxs("p",{"code-path":"src/pages/MyOrders.tsx:89:13",className:"text-gray-500 mt-1",children:["Toplam ",x.length," sipariş"]})]}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:94:11",className:"relative",children:[e.jsx(C,{"code-path":"src/pages/MyOrders.tsx:95:13",className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{"code-path":"src/pages/MyOrders.tsx:96:13",type:"text",placeholder:"Sipariş no veya ürün ara...",value:p,onChange:s=>N(s.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 w-full md:w-80"})]})]}),x.length===0?e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:107:11",className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-12 text-center",children:[e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:108:13",className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(l,{"code-path":"src/pages/MyOrders.tsx:109:15",className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{"code-path":"src/pages/MyOrders.tsx:111:13",className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Henüz siparişiniz yok"}),e.jsx("p",{"code-path":"src/pages/MyOrders.tsx:114:13",className:"text-gray-500 mb-6",children:"İlk siparişinizi vermek için ürünlerimize göz atın"}),e.jsxs(c,{"code-path":"src/pages/MyOrders.tsx:117:13",className:"bg-[#0077be] hover:bg-[#005a8f] text-white",onClick:()=>j("shop"),children:["Alışverişe Başla",e.jsx(S,{"code-path":"src/pages/MyOrders.tsx:122:15",className:"w-4 h-4 ml-2"})]})]}):e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:126:11",className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:128:13",className:"lg:col-span-2 space-y-4",children:w.map(s=>e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:130:17",onClick:()=>f(s),className:`bg-white dark:bg-[#1e293b] rounded-2xl border-2 p-6 cursor-pointer transition-all ${(r==null?void 0:r.id)===s.id?"border-[#0077be] shadow-lg":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:[e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:139:19",className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:140:21",children:[e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:141:23",className:"flex items-center gap-3 mb-1",children:[e.jsx("span",{"code-path":"src/pages/MyOrders.tsx:142:25",className:"font-mono font-bold text-gray-900 dark:text-white",children:s.order_number}),o(s.status)]}),e.jsx("p",{"code-path":"src/pages/MyOrders.tsx:147:23",className:"text-sm text-gray-500",children:k(s.created_at)})]}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:151:21",className:"text-right",children:[e.jsxs("p",{"code-path":"src/pages/MyOrders.tsx:152:23",className:"text-2xl font-bold text-[#0077be]",children:["€ ",s.total_amount.toFixed(2)]}),e.jsxs("p",{"code-path":"src/pages/MyOrders.tsx:155:23",className:"text-sm text-gray-500",children:[s.items.length," ürün"]})]})]}),e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:162:19",className:"flex items-center gap-2 mb-4",children:["pending","confirmed","processing","shipped","delivered"].map((a,t)=>{const g=["pending","confirmed","processing","shipped","delivered"].indexOf(s.status),h=t<=g,_=t===g;return e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:170:25",className:"flex-1 flex items-center",children:[e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:171:27",className:`h-2 flex-1 rounded-full ${h?"bg-[#0077be]":"bg-gray-200"}`}),t<4&&e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:177:29",className:`w-3 h-3 rounded-full ${h?"bg-[#0077be]":"bg-gray-200"} ${_?"ring-4 ring-blue-200":""}`})]},a)})}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:187:19",className:"flex items-center gap-4",children:[s.items.slice(0,3).map((a,t)=>e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:189:23",className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:e.jsx(l,{"code-path":"src/pages/MyOrders.tsx:193:25",className:"w-8 h-8 text-gray-400"})},t)),s.items.length>3&&e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:197:23",className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:e.jsxs("span",{"code-path":"src/pages/MyOrders.tsx:198:25",className:"text-gray-500 font-medium",children:["+",s.items.length-3]})}),e.jsxs(c,{"code-path":"src/pages/MyOrders.tsx:202:21",variant:"ghost",className:"ml-auto",children:[e.jsx(y,{"code-path":"src/pages/MyOrders.tsx:203:23",className:"w-4 h-4 mr-2"}),"Detaylar"]})]}),s.status==="shipped"&&s.tracking_number&&e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:210:21",className:"mt-4 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:211:23",className:"flex items-center justify-between",children:[e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:212:25",className:"flex items-center gap-2",children:[e.jsx(u,{"code-path":"src/pages/MyOrders.tsx:213:27",className:"w-5 h-5 text-orange-600"}),e.jsx("span",{"code-path":"src/pages/MyOrders.tsx:214:27",className:"text-sm font-medium text-orange-900 dark:text-orange-400",children:s.shipping_company})]}),e.jsx("span",{"code-path":"src/pages/MyOrders.tsx:218:25",className:"font-mono text-sm text-orange-900 dark:text-orange-400",children:s.tracking_number})]})})]},s.id))}),e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:229:13",className:"lg:sticky lg:top-24 h-fit",children:r?e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:231:17",className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{"code-path":"src/pages/MyOrders.tsx:232:19",className:"font-bold text-gray-900 dark:text-white mb-4",children:"Sipariş Detayı"}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:237:19",className:"mb-6",children:[e.jsx("p",{"code-path":"src/pages/MyOrders.tsx:238:21",className:"text-sm text-gray-500 mb-2",children:"Durum"}),o(r.status)]}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:243:19",className:"space-y-3 mb-6",children:[e.jsx("p",{"code-path":"src/pages/MyOrders.tsx:244:21",className:"text-sm text-gray-500",children:"Ürünler"}),r.items.map((s,a)=>e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:246:23",className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{"code-path":"src/pages/MyOrders.tsx:247:25",className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(l,{"code-path":"src/pages/MyOrders.tsx:248:27",className:"w-6 h-6 text-gray-400"})}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:250:25",className:"flex-1",children:[e.jsxs("p",{"code-path":"src/pages/MyOrders.tsx:251:27",className:"font-medium text-sm text-gray-900 dark:text-white",children:[s.product_type," - ",s.size]}),e.jsxs("p",{"code-path":"src/pages/MyOrders.tsx:254:27",className:"text-xs text-gray-500",children:[s.material," | ",s.quantity," adet"]})]}),e.jsxs("p",{"code-path":"src/pages/MyOrders.tsx:258:25",className:"font-bold text-[#0077be]",children:["€ ",s.total_price.toFixed(2)]})]},a))]}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:266:19",className:"border-t border-gray-200 dark:border-gray-700 pt-4 mb-6",children:[e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:267:21",className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.jsx("span",{"code-path":"src/pages/MyOrders.tsx:268:23",children:"Ara Toplam"}),e.jsxs("span",{"code-path":"src/pages/MyOrders.tsx:269:23",children:["€ ",r.subtotal.toFixed(2)]})]}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:271:21",className:"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.jsx("span",{"code-path":"src/pages/MyOrders.tsx:272:23",children:"KDV"}),e.jsxs("span",{"code-path":"src/pages/MyOrders.tsx:273:23",children:["€ ",r.vat_amount.toFixed(2)]})]}),r.discount_amount>0&&e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:276:23",className:"flex justify-between text-sm text-green-600 mb-2",children:[e.jsx("span",{"code-path":"src/pages/MyOrders.tsx:277:25",children:"İndirim"}),e.jsxs("span",{"code-path":"src/pages/MyOrders.tsx:278:25",children:["-€ ",r.discount_amount.toFixed(2)]})]}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:281:21",className:"flex justify-between font-bold text-lg text-gray-900 dark:text-white pt-2",children:[e.jsx("span",{"code-path":"src/pages/MyOrders.tsx:282:23",children:"Toplam"}),e.jsxs("span",{"code-path":"src/pages/MyOrders.tsx:283:23",className:"text-[#0077be]",children:["€ ",r.total_amount.toFixed(2)]})]})]}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:288:19",className:"mb-6",children:[e.jsx("p",{"code-path":"src/pages/MyOrders.tsx:289:21",className:"text-sm text-gray-500 mb-2",children:"Teslimat Adresi"}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:290:21",className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg text-sm",children:[e.jsx("p",{"code-path":"src/pages/MyOrders.tsx:291:23",className:"font-medium text-gray-900 dark:text-white",children:r.shipping_address.full_name}),e.jsx("p",{"code-path":"src/pages/MyOrders.tsx:294:23",className:"text-gray-600 dark:text-gray-400",children:r.shipping_address.full_address}),e.jsxs("p",{"code-path":"src/pages/MyOrders.tsx:297:23",className:"text-gray-600 dark:text-gray-400",children:[r.shipping_address.city,", ",r.shipping_address.zip]})]})]}),e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:304:19",className:"flex gap-2",children:[e.jsxs(c,{"code-path":"src/pages/MyOrders.tsx:305:21",variant:"outline",className:"flex-1",children:[e.jsx(D,{"code-path":"src/pages/MyOrders.tsx:306:23",className:"w-4 h-4 mr-2"}),"Fatura"]}),r.status==="delivered"&&e.jsxs(c,{"code-path":"src/pages/MyOrders.tsx:310:23",variant:"outline",className:"flex-1",children:[e.jsx(i,{"code-path":"src/pages/MyOrders.tsx:311:25",className:"w-4 h-4 mr-2"}),"İade"]})]})]}):e.jsxs("div",{"code-path":"src/pages/MyOrders.tsx:318:17",className:"bg-white dark:bg-[#1e293b] rounded-2xl border border-gray-200 dark:border-gray-700 p-6 text-center",children:[e.jsx(y,{"code-path":"src/pages/MyOrders.tsx:319:19",className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{"code-path":"src/pages/MyOrders.tsx:320:19",className:"text-gray-500",children:"Detayları görüntülemek için bir sipariş seçin"})]})})]})]})})}export{I as default};
